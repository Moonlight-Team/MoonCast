[gd_scene load_steps=8 format=4 uid="uid://1xb5osowwhbb"]

[ext_resource type="Script" uid="uid://djv4h0q217njy" path="res://Demo/levels/test_2d/gravity_testing.gd" id="1_did7f"]
[ext_resource type="TileSet" uid="uid://ci6t4vh0uto8w" path="res://Demo/levels/demo_2d/demo_zone_tiles.tres" id="2_67dd8"]
[ext_resource type="PackedScene" uid="uid://x0bop1i17eyt" path="res://Demo/player/mooncast_sonic_2d/mrmooncastmouse.tscn" id="3_wy8nu"]
[ext_resource type="Script" uid="uid://bp5ip1imqh788" path="res://Framework/abilities/bonus/gravity_control.gd" id="4_ip6qp"]
[ext_resource type="Script" uid="uid://chxrofx7moh6c" path="res://Framework/abilities/debug_mode.gd" id="5_xapeu"]
[ext_resource type="Script" uid="uid://dsi6e0xiwr28r" path="res://Demo/levels/test_2d/generated_polygon.gd" id="6_ip6qp"]

[sub_resource type="LabelSettings" id="LabelSettings_wllwl"]
font_size = 5

[node name="GravityTesting" type="Node2D"]
script = ExtResource("1_did7f")

[node name="mrmooncastmouse" parent="." node_paths=PackedStringArray("node_camera") instance=ExtResource("3_wy8nu")]
position = Vector2(-37, -48)
legacy_enabled = false
node_camera = NodePath("Cam")

[node name="GravControl" type="Node" parent="mrmooncastmouse"]
script = ExtResource("4_ip6qp")
button_reset = &"cam_reset"
button_left = &"cam_left"
button_right = &"cam_right"
button_up = &"cam_up"
button_down = &"cam_down"
button_cam_rotate_right = &"z"
button_cam_rotate_left = &"x"
metadata/_custom_type_script = "uid://baftbujqr3cl7"

[node name="MoonCastDebugMode" type="Node" parent="mrmooncastmouse" node_paths=PackedStringArray("onscreen_info_label")]
script = ExtResource("5_xapeu")
onscreen_info_label = NodePath("CanvasLayer/Label")
button_enable_debug = &"x"
button_scene_pause = &"y"
button_scene_frame_advance = &"z"
metadata/_custom_type_script = "uid://chxrofx7moh6c"

[node name="CanvasLayer" type="CanvasLayer" parent="mrmooncastmouse/MoonCastDebugMode"]

[node name="Label" type="Label" parent="mrmooncastmouse/MoonCastDebugMode/CanvasLayer"]
top_level = true
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -30.0
offset_bottom = 8.0
grow_horizontal = 0
label_settings = SubResource("LabelSettings_wllwl")
horizontal_alignment = 2

[node name="Cam" type="Camera2D" parent="mrmooncastmouse"]
limit_left = -256
position_smoothing_speed = 20.0
drag_vertical_enabled = true
drag_bottom_margin = 0.1
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="CollisionLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAAAAAPAAAAAAABAAAAAAAPAAAAAAACAAAAAAAPAAAAAAADAAAAAAAPAAAAAAAEAAAAAAAPAAAAAAAFAAAAAAAPAAAAAAAGAAAAAAAPAAAAAAAHAAAAAAAPAAAAAAAIAAAAAAAPAAAAAAD//wAAAAAPAAAAAAD+/wAAAAAPAAAAAAD9/wAAAAAPAAAAAAD8/wAAAAAPAAAAAAD7/wAAAAAPAAAAAAD6/wAAAAAPAAAAAAD5/wAAAAAPAAAAAAD4/wAAAAAPAAAAAAD3/wAAAAAPAAAAAAAJAAAAAAAPAAAAAAAKAAAAAAAPAAAAAAALAAAAAAAPAAAAAAAMAAAAAAAPAAAAAAANAAAAAAAPAAAAAAAOAAAAAAAPAAAAAAAPAAAAAAAPAAAAAAAQAAAAAAAPAAAAAAARAAAAAAAPAAAAAAASAAAAAAAPAAAAAAASAP//AAAPAAAAAAASAP7/AAAPAAAAAAASAP3/AAAPAAAAAAASAPz/AAAPAAAAAAASAPv/AAAPAAAAAAASAPr/AAAPAAAAAAASAPn/AAAPAAAAAAATAPn/AAAPAAAAAAASAPj/AAAPAAAAAAASAPf/AAAPAAAAAAASAPb/AAAPAAAAAAASAPX/AAAPAAAAAAD2/wAAAAAPAAAAAAD1/wAAAAAPAAAAAAD0/wAAAAAPAAAAAAD0////AAAPAAAAAADz////AAAPAAAAAADy/wAAAAAPAAAAAADy/wEAAAAPAAAAAADz/wEAAAAPAAAAAADz/wAAAAAPAAAAAAD0/wEAAAAPAAAAAAD1/wEAAAAPAAAAAAD2/wEAAAAPAAAAAAD3/wEAAAAPAAAAAAD4/wEAAAAPAAAAAAD5/wEAAAAPAAAAAAD6/wEAAAAPAAAAAAD7/wEAAAAPAAAAAAD8/wEAAAAPAAAAAAD9/wEAAAAPAAAAAAD+/wEAAAAPAAAAAAD+/wIAAAAPAAAAAAD//wIAAAAPAAAAAAAAAAIAAAAPAAAAAAABAAIAAAAPAAAAAAABAAEAAAAPAAAAAAACAAEAAAAPAAAAAAADAAEAAAAPAAAAAAAEAAEAAAAPAAAAAAAFAAEAAAAPAAAAAAAAAAEAAAAPAAAAAAD//wEAAAAPAAAAAAD9/wIAAAAPAAAAAAD8/wIAAAAPAAAAAAASAPT/AAAPAAAAAAASAPP/AAAPAAAAAAASAPL/AAAPAAAAAAASAPH/AAAPAAAAAAASAPD/AAAPAAAAAAASAO//AAAPAAAAAAASAO7/AAAPAAAAAAASAO3/AAAPAAAAAAASAOz/AAAPAAAAAAASAOv/AAAPAAAAAAASAOr/AAAPAAAAAAARAOr/AAAPAAAAAAAQAOr/AAAPAAAAAAAPAOr/AAAPAAAAAAAOAOr/AAAPAAAAAAAOAOn/AAAPAAAAAAANAOn/AAAPAAAAAAAMAOn/AAAPAAAAAAALAOn/AAAPAAAAAAAKAOn/AAAPAAAAAAAJAOn/AAAPAAAAAAAJAOr/AAAPAAAAAAAIAOr/AAAPAAAAAAAHAOr/AAAPAAAAAAAGAOr/AAAPAAAAAAAKAOr/AAAPAAAAAAALAOr/AAAPAAAAAAAMAOr/AAAPAAAAAAANAOr/AAAPAAAAAAAPAOn/AAAPAAAAAAAFAOr/AAAPAAAAAAAEAOr/AAAPAAAAAAADAOr/AAAPAAAAAAACAOr/AAAPAAAAAAABAOr/AAAPAAAAAAAAAOr/AAAPAAAAAAD//+r/AAAPAAAAAAD+/+r/AAAPAAAAAAD9/+r/AAAPAAAAAAD8/+r/AAAPAAAAAAD7/+r/AAAPAAAAAAD6/+r/AAAPAAAAAAD5/+r/AAAPAAAAAAD4/+r/AAAPAAAAAAD3/+r/AAAPAAAAAAD2/+r/AAAPAAAAAAD1/+r/AAAPAAAAAAD0/+r/AAAPAAAAAAD0/+v/AAAPAAAAAAD0/+z/AAAPAAAAAAD0/+3/AAAPAAAAAAD0/+7/AAAPAAAAAAD0/+//AAAPAAAAAAD0//D/AAAPAAAAAAD0//H/AAAPAAAAAAD0//L/AAAPAAAAAAD0//P/AAAPAAAAAAD0//T/AAAPAAAAAAD0//X/AAAPAAAAAAD0//b/AAAPAAAAAAD0//f/AAAPAAAAAADz//f/AAAPAAAAAADz//j/AAAPAAAAAADz//n/AAAPAAAAAAD0//n/AAAPAAAAAAD0//r/AAAPAAAAAADz//r/AAAPAAAAAADz//v/AAAPAAAAAADz//z/AAAPAAAAAADz//3/AAAPAAAAAAD0//3/AAAPAAAAAAD0//7/AAAPAAAAAAD0//z/AAAPAAAAAAD0//v/AAAPAAAAAAD0//j/AAAPAAAAAAA=")
tile_set = ExtResource("2_67dd8")

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(288, 0)
rotation = -1.5708
polygon = PackedVector2Array(0, 0, 0, -151, 0.595215, -149.956, 1.31012, -148.701, 2.27734, -147.004, 2.84951, -146, 3.47748, -144.898, 4.15882, -143.702, 4.89111, -142.417, 5.67193, -141.047, 6.49884, -139.596, 7.36942, -138.069, 8.28125, -136.469, 9.2319, -134.801, 10.2189, -133.069, 10.7253, -132.18, 11.2399, -131.277, 11.7624, -130.36, 12.2925, -129.43, 12.8298, -128.487, 13.3741, -127.532, 13.9251, -126.565, 14.4825, -125.587, 15.0459, -124.599, 15.6151, -123.6, 16.1897, -122.592, 16.7695, -121.574, 17.3542, -120.548, 17.9434, -119.514, 18.5368, -118.473, 19.1342, -117.425, 19.7352, -116.37, 20.3396, -115.31, 20.947, -114.244, 21.5571, -113.173, 22.1697, -112.098, 22.7844, -111.02, 23.4009, -109.938, 24.0189, -108.854, 24.6381, -107.767, 25.2582, -106.679, 25.879, -105.59, 26.5, -104.5, 27.121, -103.41, 27.7418, -102.321, 28.3619, -101.233, 28.9811, -100.146, 29.5991, -99.0619, 30.2156, -97.9801, 30.8303, -96.9015, 31.4429, -95.8267, 32.053, -94.7561, 32.6604, -93.6903, 33.2648, -92.6298, 33.8658, -91.5751, 34.4632, -90.5269, 35.0566, -89.4856, 35.6458, -88.4517, 36.2305, -87.4258, 36.8103, -86.4084, 37.3849, -85.4001, 37.9541, -84.4013, 38.5175, -83.4127, 39.0749, -82.4347, 39.6259, -81.4678, 40.1702, -80.5127, 40.7075, -79.5698, 41.2376, -78.6397, 41.7601, -77.7229, 42.2747, -76.8199, 42.7811, -75.9313, 43.7681, -74.1994, 44.7188, -72.5312, 45.6306, -70.9313, 46.5012, -69.4036, 47.3281, -67.9526, 48.1089, -66.5825, 48.8412, -65.2976, 49.5225, -64.102, 50.1505, -63.0001, 50.7227, -61.9961, 51.6899, -60.2989, 52.4048, -59.0444, 53, -58, 54.1006, -57.3486, 55.4225, -56.5663, 56.2606, -56.0702, 57.2109, -55.5078, 58.2689, -54.8817, 59.4301, -54.1945, 60.6899, -53.4488, 62.0439, -52.6475, 63.4877, -51.793, 65.0167, -50.8881, 66.6265, -49.9353, 68.3125, -48.9375, 69.1827, -48.4225, 70.0703, -47.8972, 70.9747, -47.3619, 71.8954, -46.817, 72.8318, -46.2628, 73.7833, -45.6997, 74.7494, -45.1279, 75.7295, -44.5479, 76.7231, -43.9598, 77.7295, -43.3642, 78.7483, -42.7612, 79.7789, -42.1512, 80.8207, -41.5347, 81.8732, -40.9118, 82.9357, -40.2829, 84.0078, -39.6484, 85.0889, -39.0086, 86.1783, -38.3638, 87.2757, -37.7144, 88.3802, -37.0607, 89.4916, -36.4029, 90.6091, -35.7416, 91.7322, -35.0769, 92.8604, -34.4092, 93.993, -33.7388, 95.1296, -33.0662, 96.2695, -32.3915, 97.4122, -31.7152, 98.5572, -31.0376, 99.7039, -30.3589, 100.852, -29.6796, 102, -29, 103.148, -28.3204, 104.296, -27.6411, 105.443, -26.9624, 106.588, -26.2848, 107.731, -25.6085, 108.87, -24.9338, 110.007, -24.2612, 111.14, -23.5908, 112.268, -22.9231, 113.391, -22.2584, 114.508, -21.5971, 115.62, -20.9393, 116.724, -20.2856, 117.822, -19.6362, 118.911, -18.9914, 119.992, -18.3516, 121.064, -17.7171, 122.127, -17.0882, 123.179, -16.4653, 124.221, -15.8488, 125.252, -15.2388, 126.27, -14.6358, 127.277, -14.0402, 128.271, -13.4521, 129.251, -12.8721, 130.217, -12.3003, 131.168, -11.7372, 132.105, -11.183, 133.025, -10.6381, 133.93, -10.1028, 134.817, -9.57752, 135.688, -9.0625, 137.374, -8.06465, 138.983, -7.11194, 140.512, -6.20702, 141.956, -5.35254, 143.31, -4.55116, 144.57, -3.80554, 145.731, -3.11833, 146.789, -2.49219, 147.739, -1.92976, 148.578, -1.43372, 149.899, -0.651367, 151, 0, 68, 0)
script = ExtResource("6_ip6qp")
slope_size = Vector2(68, -83)
slope_middle = Vector2(53, -58)
detail_level = 2.0

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-176, 0)
polygon = PackedVector2Array(0, 0, 0, -151, 3.52344, -146.016, 12.8125, -132.875, 19.0186, -124.096, 25.9453, -114.297, 33.3525, -103.818, 41, -93, 48.6475, -82.1816, 56.0547, -71.7031, 62.9814, -61.9043, 69.1875, -53.125, 78.4766, -39.9844, 82, -35, 92.7812, -29.5312, 103.832, -23.9258, 116.5, -17.5, 129.168, -11.0742, 140.219, -5.46875, 151, 0, 49, 0)
script = ExtResource("6_ip6qp")
slope_size = Vector2(49, -102)
slope_middle = Vector2(82, -35)
detail_level = 20.0

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(288, -336)
rotation = 3.14159
polygon = PackedVector2Array(0, 0, 0, -151, 1.50391, -146.016, 5.46875, -132.875, 8.11768, -124.096, 11.0742, -114.297, 14.2358, -103.818, 17.5, -93, 20.7642, -82.1816, 23.9258, -71.7031, 26.8823, -61.9043, 29.5312, -53.125, 33.4961, -39.9844, 35, -35, 39.9844, -33.4961, 53.125, -29.5312, 61.9043, -26.8823, 71.7031, -23.9258, 82.1816, -20.7642, 93, -17.5, 103.818, -14.2358, 114.297, -11.0742, 124.096, -8.11768, 132.875, -5.46875, 146.016, -1.50391, 151, 0, 49, 0)
script = ExtResource("6_ip6qp")
slope_size = Vector2(49, -102)
slope_middle = Vector2(35, -35)
detail_level = 15.0

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(-176, -336)
rotation = 1.5708
polygon = PackedVector2Array(0, 0, 0, -151, 0.393066, -149.697, 0.865173, -148.133, 1.16451, -147.14, 1.50391, -146.016, 1.88175, -144.763, 2.29645, -143.389, 2.74639, -141.898, 3.22998, -140.295, 3.74561, -138.586, 4.29169, -136.776, 4.8666, -134.871, 5.16437, -133.884, 5.46875, -132.875, 5.77954, -131.845, 6.09653, -130.794, 6.41954, -129.724, 6.74835, -128.634, 7.08277, -127.526, 7.4226, -126.399, 7.76763, -125.256, 8.11768, -124.096, 8.47252, -122.92, 8.83198, -121.728, 9.19584, -120.522, 9.5639, -119.302, 9.93598, -118.069, 10.3119, -116.824, 10.6913, -115.566, 11.0742, -114.297, 11.4603, -113.017, 11.8494, -111.728, 12.2413, -110.429, 12.6358, -109.121, 13.0327, -107.806, 13.4318, -106.483, 13.8329, -105.154, 14.2358, -103.818, 14.6404, -102.478, 15.0463, -101.132, 15.4534, -99.7831, 15.8615, -98.4304, 16.2704, -97.0751, 16.68, -95.7179, 17.0899, -94.3593, 17.5, -93, 17.9101, -91.6407, 18.32, -90.2821, 18.7296, -88.9249, 19.1385, -87.5696, 19.5466, -86.2169, 19.9537, -84.8676, 20.3596, -83.5223, 20.7642, -82.1816, 21.1671, -80.8463, 21.5682, -79.5169, 21.9673, -78.1941, 22.3642, -76.8787, 22.7587, -75.5712, 23.1506, -74.2723, 23.5397, -72.9827, 23.9258, -71.7031, 24.3087, -70.4341, 24.6881, -69.1764, 25.064, -67.9307, 25.4361, -66.6975, 25.8042, -65.4776, 26.168, -64.2717, 26.5275, -63.0804, 26.8823, -61.9043, 27.2324, -60.7442, 27.5774, -59.6006, 27.9172, -58.4743, 28.2516, -57.366, 28.5805, -56.2762, 28.9035, -55.2057, 29.2205, -54.155, 29.5312, -53.125, 29.8356, -52.1162, 30.1334, -51.1293, 30.7083, -49.2239, 31.2544, -47.414, 31.77, -45.7051, 32.2536, -44.1023, 32.7036, -42.6111, 33.1182, -41.2367, 33.4961, -39.9844, 33.8355, -38.8595, 34.1348, -37.8674, 34.6069, -36.3027, 35, -35, 36.3027, -34.6069, 37.8674, -34.1348, 38.8595, -33.8355, 39.9844, -33.4961, 41.2367, -33.1182, 42.6111, -32.7036, 44.1023, -32.2536, 45.7051, -31.77, 47.414, -31.2544, 49.2239, -30.7083, 51.1293, -30.1334, 52.1162, -29.8356, 53.125, -29.5312, 54.155, -29.2205, 55.2057, -28.9035, 56.2762, -28.5805, 57.366, -28.2516, 58.4743, -27.9172, 59.6006, -27.5774, 60.7442, -27.2324, 61.9043, -26.8823, 63.0804, -26.5275, 64.2717, -26.168, 65.4776, -25.8042, 66.6975, -25.4361, 67.9307, -25.064, 69.1764, -24.6881, 70.4341, -24.3087, 71.7031, -23.9258, 72.9827, -23.5397, 74.2723, -23.1506, 75.5712, -22.7587, 76.8787, -22.3642, 78.1941, -21.9673, 79.5169, -21.5682, 80.8463, -21.1671, 82.1816, -20.7642, 83.5223, -20.3596, 84.8676, -19.9537, 86.2169, -19.5466, 87.5696, -19.1385, 88.9249, -18.7296, 90.2821, -18.32, 91.6407, -17.9101, 93, -17.5, 94.3593, -17.0899, 95.7179, -16.68, 97.0751, -16.2704, 98.4304, -15.8615, 99.7831, -15.4534, 101.132, -15.0463, 102.478, -14.6404, 103.818, -14.2358, 105.154, -13.8329, 106.483, -13.4318, 107.806, -13.0327, 109.121, -12.6358, 110.429, -12.2413, 111.728, -11.8494, 113.017, -11.4603, 114.297, -11.0742, 115.566, -10.6913, 116.824, -10.3119, 118.069, -9.93598, 119.302, -9.5639, 120.522, -9.19584, 121.728, -8.83198, 122.92, -8.47252, 124.096, -8.11768, 125.256, -7.76763, 126.399, -7.4226, 127.526, -7.08277, 128.634, -6.74835, 129.724, -6.41954, 130.794, -6.09653, 131.845, -5.77954, 132.875, -5.46875, 133.884, -5.16437, 134.871, -4.8666, 136.776, -4.29169, 138.586, -3.74561, 140.295, -3.22998, 141.898, -2.74639, 143.389, -2.29645, 144.763, -1.88175, 146.016, -1.50391, 147.14, -1.16451, 148.133, -0.865173, 149.697, -0.393066, 151, 0, 49, 0)
script = ExtResource("6_ip6qp")
slope_size = Vector2(49, -102)
slope_middle = Vector2(35, -35)
detail_level = 2.0
